<ng-container>
  <form [formGroup]="form" (ngSubmit)="submit()">
    <div
      class="flex items-center bg-white border border-am-main-blue-light rounded-lg overflow-hidden w-full mx-auto h-11"
    >
      <button
        type="button"
        *ngIf="searchOptions.length > 1"
        [matMenuTriggerFor]="menu"
        class="flex items-center p-2 text-am-grey-dark bg-white"
      >
        <ic-icon
          [icIcon]="iconService.getIcon(labelSelection.icon)"
          inline="true"
          class="mt-1"
          size="24px"
        >
        </ic-icon>
        <ic-icon
          [icIcon]="iconService.getIcon('icArrowDropDown')"
          inline="true"
          class="mt-1"
          size="24px"
        >
        </ic-icon>
      </button>
      <button
        type="submit"
        [disabled]="form.invalid"
        class="bg-white rounded-sm text-am-grey-dark p-2"
      >
        <ic-icon
          [icIcon]="iconService.getIcon('icSearch')"
          class="flex-none"
          size="24px"
        ></ic-icon>
      </button>
      <input
        type="text"
        class="desktop border-0 h-11 outline-none placeholder: text-secondary bg-card flex-auto"
        matInput
        formControlName="searchData"
        matTooltip="{{ labelSelection.validation_desc }}"
        placeholder="{{ labelSelection.placeholder }}"
      />
      <button
        type="button"
        class="mr-4"
        (click)="reset()"
        *ngIf="form.valid"
        @scaleInOut
      >
        <ic-icon
          [icIcon]="iconService.getIcon('icClose')"
          class="flex-none"
          size="16px"
        ></ic-icon>
      </button>
      <mat-menu #menu class="shadow-2xl">
        <button
          mat-menu-item
          *ngFor="let option of searchOptions"
          (click)="changeSelection(option)"
        >
          <ic-icon
            [icIcon]="iconService.getIcon(option.icon)"
            inline="true"
            class="text-am-main-blue-dark"
            size="24px"
          ></ic-icon>
          <span
            [ngClass]="{
              'font-bold text-am-gray-dark': option == labelSelection
            }"
          >
            {{ option.label }}
          </span>
        </button>
      </mat-menu>
    </div>
  </form>
</ng-container>
